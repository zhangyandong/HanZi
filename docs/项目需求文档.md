# 小学生汉字学习应用 - 需求文档

## 一、项目概述

### 1.1 项目名称
**汉字学习助手（HanZi Learning）**

### 1.2 项目目标
为小学生提供一个直观、易用的汉字学习工具，帮助他们掌握汉字的拼音、结构、笔画和书写笔顺。

### 1.3 目标用户
- **主要用户**：6-12岁小学生
- **使用场景**：课后自学、家庭作业辅导
- **设备环境**：iPad（横屏/竖屏自适应）

### 1.4 核心价值
- 📝 标准笔顺动画演示
- 🎯 直观的视觉呈现
- 👆 简单易用的交互
- 📱 适配iPad大屏体验

---

## 二、功能需求详解

### 2.1 首页 - 输入界面

#### 2.1.1 功能描述
用户通过输入框输入想要学习的汉字。

#### 2.1.2 交互流程
```
1. 进入应用 → 显示输入框
2. 输入文字（支持多个汉字）
3. 点击"确定"按钮
4. 跳转至汉字列表页
```

#### 2.1.3 输入要求
- **输入方式**：键盘输入（支持手写输入板）
- **字符限制**：1-20个汉字
- **字符过滤**：自动过滤非汉字字符（数字、字母、标点等）
- **输入提示**：placeholder显示"请输入要学习的汉字"

#### 2.1.4 UI要求（儿童友好）
- 输入框大字号：28-32px
- 确定按钮：大尺寸（至少80x80px），圆角设计
- 配色：明亮温暖的颜色（避免深色）
- 图标：配合文字使用简单图标辅助理解

#### 2.1.5 示例
```
输入：小学生学习
结果：显示"小"、"学"、"生"、"学"、"习"五个字
```

---

### 2.2 列表页 - 汉字展示

#### 2.2.1 功能描述
以卡片形式展示输入的所有汉字，每个汉字上方显示拼音。

#### 2.2.2 布局设计

**卡片式布局**（推荐）
```
┌─────────┬─────────┬─────────┬─────────┐
│  xiǎo   │   xué   │  shēng  │   xí    │
│   小    │   学    │   生    │   习    │
└─────────┴─────────┴─────────┴─────────┘
```

**响应式设计**
- 竖屏：每行3-4个字
- 横屏：每行5-6个字
- 卡片间距：20-30px
- 可滚动查看更多

#### 2.2.3 卡片样式
- **汉字**：超大字号（80-100px）
- **拼音**：清晰字号（24-28px）
- **拼音格式**：包含声调标记（xiǎo、xué）
- **卡片样式**：
  - 浅色背景
  - 圆角边框（16px）
  - 轻微阴影
  - 点击时有动画反馈（缩放/高亮）

#### 2.2.4 交互
- **点击卡片** → 进入该汉字的详情页
- **返回按钮** → 返回输入页（大尺寸，易点击）
- **重新输入按钮** → 快速返回输入页

---

### 2.3 详情页 - 汉字详细信息

#### 2.3.1 功能描述
展示单个汉字的完整信息，包括拼音、部首、笔画和田字格笔顺动画。

#### 2.3.2 信息模块

**① 基础信息区**
```
┌─────────────────────────────────┐
│          汉字：学                │
│          拼音：xué               │
│          部首：子                 │
│        总笔画：8画               │
└─────────────────────────────────┘
```

**② 田字格动画区（核心功能）**
- 占据页面主要区域（至少屏幕的50%）
- 标准田字格样式（米字格）
- 笔顺动画循环播放

**③ 笔画列表**
```
第1画：点
第2画：横折
第3画：横
...
```

#### 2.3.3 页面布局

**竖屏布局**
```
┌───────────────────────┐
│    [返回] 汉字详情     │
├───────────────────────┤
│  汉字：学  拼音：xué   │
│  部首：子  笔画：8画   │
├───────────────────────┤
│                       │
│    ┌─────────┐       │
│    │田字格    │       │
│    │笔顺动画  │       │
│    │         │       │
│    └─────────┘       │
│                       │
├───────────────────────┤
│  笔画列表：            │
│  1.点  2.横折  3.横   │
│  4.竖  5.横  6.撇...  │
└───────────────────────┘
```

**横屏布局**
```
┌──────────────┬───────────────────┐
│  基础信息     │                   │
│  部首：子     │   ┌─────────┐    │
│  笔画：8画    │   │田字格    │    │
│              │   │笔顺动画  │    │
│  笔画列表：   │   │         │    │
│  1.点        │   └─────────┘    │
│  2.横折      │                   │
│  ...         │   [播放控制]      │
└──────────────┴───────────────────┘
```

---

### 2.4 田字格笔顺动画（核心功能）

#### 2.4.1 动画要求

**① 循环播放**
- 自动循环：完成全部笔画后，暂停1-2秒，自动重新开始
- 无限循环：直到用户切换到其他汉字

**② 动画速度**
- 每个笔画：1-1.5秒（适合儿童观看）
- 笔画间隔：0.3-0.5秒
- 全部完成后暂停：1.5-2秒

**③ 视觉效果**
- 笔画颜色：鲜艳易识别（红色/蓝色/绿色）
- 笔画粗细：适中（适合儿童观看）
- 动画流畅：60fps，无卡顿
- 当前笔画：高亮显示（加粗或不同颜色）

**④ 辅助功能**
- 显示当前笔画序号（第1/8画）
- 笔画名称实时显示（"横"、"竖"、"撇"等）

#### 2.4.2 田字格样式
```
┌─────┬─────┐
│     │     │
│  ╱  │  ╲  │
├─────┼─────┤
│  ╲  │  ╱  │
│     │     │
└─────┴─────┘
```

- **尺寸**：至少 300x300px（iPad）
- **线条**：
  - 外框：黑色，2px
  - 田字格线：浅灰色，1px
  - 对角辅助线：虚线，浅灰色

#### 2.4.3 播放控制（可选增强功能）

**基础版**
- 自动循环播放（无控制按钮）

**增强版**
- 暂停/播放按钮
- 重新播放按钮
- 速度调节（慢速/正常/快速）
- 单步播放（逐笔查看）

---

## 三、技术方案

### 3.1 技术栈选择

#### 推荐方案：React + TypeScript

**前端框架**
- **React 18**：组件化开发，生态成熟
- **TypeScript**：类型安全，提高代码质量
- **Create React App** 或 **Vite**：快速搭建

**UI组件库**
- **Ant Design Mobile**：适合触摸交互
- 或自定义组件（更灵活）

**样式方案**
- **CSS Modules** 或 **Styled Components**
- **Tailwind CSS**：快速开发

**笔顺动画**
- **Hanzi Writer**（推荐）：开源的汉字笔顺动画库
- 或 **Canvas/SVG** 自己实现

**状态管理**
- **React Hooks**（useState, useContext）
- 小项目无需Redux

**汉字数据源**
- **Hanzi Writer Data**：包含笔顺数据
- **汉字拼音库**：pinyin 或 pinyin-pro
- **汉字部首库**：可使用第三方API或本地数据

### 3.2 核心技术实现

#### 3.2.1 拼音转换
```typescript
import { pinyin } from 'pinyin-pro';

const getPinyin = (text: string) => {
  return pinyin(text, { toneType: 'symbol' }); // xiǎo
};
```

#### 3.2.2 笔顺动画（Hanzi Writer）
```typescript
import HanziWriter from 'hanzi-writer';

HanziWriter.create('target-div', '学', {
  width: 300,
  height: 300,
  padding: 5,
  showOutline: true,
  strokeAnimationSpeed: 1.5,
  delayBetweenStrokes: 300,
});
```

#### 3.2.3 部首查询
- 可使用 **Unihan Database** 或汉字部首查询API
- 或内置常用汉字数据库

### 3.3 数据结构设计

```typescript
// 汉字信息接口
interface CharacterInfo {
  character: string;        // 汉字
  pinyin: string;          // 拼音（带声调）
  radical: string;         // 部首
  strokeCount: number;     // 总笔画数
  strokes: string[];       // 笔画列表 ['横', '竖', '撇'...]
}

// 应用状态
interface AppState {
  inputText: string;       // 用户输入
  characters: string[];    // 汉字列表
  currentChar: string | null; // 当前查看的汉字
}
```

---

## 四、UI/UX设计要求

### 4.1 儿童友好设计原则

#### 4.1.1 色彩
- **主色调**：温暖明亮（黄色、橙色、浅蓝色）
- **背景**：浅色系（米白、浅黄、浅蓝）
- **文字**：深色，对比度高（保护视力）
- **按钮**：多彩，易区分

#### 4.1.2 字体
- **汉字**：楷体/宋体（标准字形）
- **拼音**：sans-serif（清晰易读）
- **字号**：大字号（避免过小）

#### 4.1.3 交互
- **按钮**：大尺寸（至少 60x60px）
- **间距**：充足间距（避免误触）
- **反馈**：明显的点击反馈（动画、颜色变化）
- **引导**：首次使用有简单引导

#### 4.1.4 动画
- **流畅**：60fps，无卡顿
- **速度**：适中（不能太快）
- **趣味**：可爱的过渡动画

### 4.2 iPad适配

#### 4.2.1 尺寸适配
- **支持设备**：
  - iPad (10.2英寸)
  - iPad Air (10.9英寸)
  - iPad Pro (11英寸 / 12.9英寸)

#### 4.2.2 方向适配
- **竖屏优先**：主要使用场景
- **横屏支持**：布局自动调整

#### 4.2.3 触摸优化
- **点击区域**：至少 44x44px
- **手势**：支持点击、滑动（可选）
- **避免悬停**：不依赖 hover 效果

#### 4.2.4 响应式布局
```css
/* 示例媒体查询 */
@media (min-width: 768px) {
  /* iPad 竖屏 */
  .character-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media (min-width: 1024px) {
  /* iPad 横屏 */
  .character-grid {
    grid-template-columns: repeat(6, 1fr);
  }
}
```

---

## 五、功能优先级

### 5.1 MVP（最小可行产品）- 第一阶段

**必须功能**
- ✅ 输入框输入汉字
- ✅ 汉字列表展示（带拼音）
- ✅ 点击查看详情
- ✅ 详情页：拼音、部首、笔画数
- ✅ 田字格笔顺动画（循环播放）

### 5.2 第二阶段 - 增强功能

**优化体验**
- ⭐ 动画播放控制（暂停/播放/重新播放）
- ⭐ 笔画列表详细展示
- ⭐ 单步播放笔顺
- ⭐ 收藏功能（收藏常用汉字）
- ⭐ 历史记录

### 5.3 第三阶段 - 高级功能

**扩展学习**
- 🎯 汉字组词（常用词语）
- 🎯 汉字造句示例
- 🎯 笔画练习（手写识别）
- 🎯 发音播放（语音）
- 🎯 学习进度追踪
- 🎯 趣味测验

---

## 六、技术实现细节

### 6.1 项目结构

```
hanzi-learning/
├── public/
│   ├── index.html
│   └── assets/
├── src/
│   ├── components/           # 组件
│   │   ├── InputPage/       # 输入页
│   │   ├── CharacterList/   # 列表页
│   │   ├── CharacterDetail/ # 详情页
│   │   └── StrokeAnimation/ # 笔顺动画
│   ├── hooks/               # 自定义Hooks
│   ├── services/            # 服务（汉字数据）
│   ├── utils/               # 工具函数
│   ├── types/               # TypeScript类型
│   ├── styles/              # 全局样式
│   ├── App.tsx
│   └── index.tsx
├── package.json
└── tsconfig.json
```

### 6.2 关键API/库

**汉字笔顺动画**
```bash
npm install hanzi-writer
```

**拼音转换**
```bash
npm install pinyin-pro
```

**路由**
```bash
npm install react-router-dom
```

**UI组件**
```bash
npm install antd-mobile
# 或
npm install @mui/material
```

### 6.3 数据处理流程

```
用户输入 → 过滤非汉字 → 拆分单个字 
→ 查询拼音/部首/笔画 → 渲染列表 
→ 点击汉字 → 加载笔顺数据 → 播放动画
```

---

## 七、性能优化

### 7.1 加载优化
- **懒加载**：详情页数据按需加载
- **缓存**：已查询汉字数据本地缓存
- **预加载**：列表页预加载前3个汉字的详细数据

### 7.2 动画优化
- **Canvas渲染**：使用Canvas或SVG（硬件加速）
- **节流**：动画状态更新节流
- **暂停机制**：离开页面时暂停动画

### 7.3 移动端优化
- **触摸优化**：使用touch事件
- **防抖**：输入框防抖处理
- **图片优化**：如有图片，使用WebP格式

---

## 八、开发计划

### 8.1 时间估算（MVP）

| 任务 | 时间 | 说明 |
|------|------|------|
| 项目搭建 | 0.5天 | 初始化项目、配置 |
| 输入页 | 0.5天 | UI + 逻辑 |
| 列表页 | 1天 | 布局 + 拼音显示 |
| 详情页（不含动画） | 1天 | 基础信息展示 |
| 笔顺动画集成 | 1.5天 | Hanzi Writer集成 |
| iPad适配 | 1天 | 响应式布局 |
| 测试优化 | 1天 | Bug修复 |
| **总计** | **6.5天** | |

### 8.2 开发里程碑

**Week 1**
- Day 1-2：项目搭建 + 输入页 + 列表页
- Day 3-4：详情页基础信息
- Day 5：笔顺动画集成

**Week 2**
- Day 1：动画循环播放完善
- Day 2：iPad适配
- Day 3：测试 + 优化
- Day 4-5：增强功能（可选）

---

## 九、测试用例

### 9.1 功能测试

**输入页**
- [ ] 输入单个汉字
- [ ] 输入多个汉字
- [ ] 输入非汉字（应过滤）
- [ ] 输入超过20个字（应限制或提示）
- [ ] 空输入点击确定（应提示）

**列表页**
- [ ] 汉字正确显示
- [ ] 拼音正确显示（带声调）
- [ ] 点击汉字跳转详情
- [ ] 返回按钮功能

**详情页**
- [ ] 拼音正确
- [ ] 部首正确
- [ ] 笔画数正确
- [ ] 笔画列表正确
- [ ] 田字格显示
- [ ] 笔顺动画播放

**动画**
- [ ] 自动循环播放
- [ ] 笔画顺序正确
- [ ] 动画流畅无卡顿
- [ ] 完成后暂停再重新开始

### 9.2 兼容性测试

**设备测试**
- [ ] iPad 10.2" (2021)
- [ ] iPad Air (2022)
- [ ] iPad Pro 11"
- [ ] iPad Pro 12.9"

**方向测试**
- [ ] 竖屏布局正常
- [ ] 横屏布局正常
- [ ] 旋转切换流畅

**浏览器测试**
- [ ] Safari (iOS)
- [ ] Chrome (iOS)

### 9.3 性能测试
- [ ] 首屏加载 < 2秒
- [ ] 动画帧率 ≥ 50fps
- [ ] 输入响应 < 100ms

---

## 十、未来扩展方向

### 10.1 内容扩展
- 📚 **生字本**：按年级/课本分类
- 📖 **成语学习**：成语释义、故事
- 🎨 **汉字游戏**：笔顺连线、汉字拼图

### 10.2 功能扩展
- 🎤 **语音识别**：语音输入汉字
- ✍️ **手写练习**：触屏手写识别
- 📊 **学习统计**：学习时长、掌握程度
- 👨‍👩‍👧 **家长模式**：查看学习报告

### 10.3 技术扩展
- ☁️ **云同步**：多设备同步学习进度
- 📱 **PWA**：支持离线使用
- 🌐 **多语言**：支持繁体字、英文界面

---

## 十一、注意事项

### 11.1 数据准确性
- ✅ 使用权威汉字数据源
- ✅ 笔顺必须符合国家规范（《现代汉语通用字笔顺规范》）
- ✅ 拼音标注准确（包括多音字处理）

### 11.2 儿童保护
- 🔒 无广告
- 🔒 无内购（或家长验证）
- 🔒 无外部链接
- 🔒 保护隐私（不收集个人信息）

### 11.3 教育性
- 📖 符合教学大纲
- 📖 笔顺标准规范
- 📖 内容积极健康

---

## 十二、总结

这是一个专为小学生设计的汉字学习工具，核心功能是：
1. **简单输入** → 降低使用门槛
2. **直观展示** → 汉字+拼音卡片
3. **详细解析** → 拼音、部首、笔画
4. **笔顺动画** → 循环演示标准书写

技术实现重点：
- React + TypeScript 框架
- Hanzi Writer 笔顺动画
- iPad 触摸优化
- 儿童友好UI设计

预期开发周期：**1-2周**（MVP版本）

---

## 附录

### A. 参考资源

**汉字数据**
- Hanzi Writer: https://hanziwriter.org/
- Unihan Database: https://www.unicode.org/charts/unihan.html

**设计参考**
- Apple Human Interface Guidelines (iPadOS)
- Material Design (Touch targets)

**类似应用**
- 汉字笔顺（App Store）
- 小学生字典（App Store）

### B. 联系方式

- 项目负责人：[开发者姓名]
- 项目周期：[预计时间]
- 最后更新：2025年12月4日

---

**文档版本**：v1.0  
**状态**：待审批 ✅  
**下一步**：技术选型确认 → 项目初始化 → 开发启动

