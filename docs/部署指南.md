# ğŸš€ æ±‰å­—å­¦ä¹ åŠ©æ‰‹ - éƒ¨ç½²æŒ‡å—

## æ„å»ºå®Œæˆ âœ…

ç”Ÿäº§ç‰ˆæœ¬å·²æˆåŠŸæ„å»ºï¼æ„å»ºæ–‡ä»¶ä½äº `dist/` ç›®å½•ã€‚

```
âœ“ built in 867ms
dist/index.html                   0.61 kB
dist/assets/index-CG94Ls_C.css   19.22 kB
dist/assets/index-Dx5McZHo.js   431.66 kB
```

---

## ğŸ“¦ éƒ¨ç½²æ–¹å¼é€‰æ‹©

### æ–¹æ¡ˆä¸€ï¼šPinMeï¼ˆæ¨èï¼‰â­

**ç‰¹ç‚¹**ï¼š
- âœ… å»ä¸­å¿ƒåŒ–éƒ¨ç½² (IPFS)
- âœ… æ°¸ä¹…åœ¨çº¿
- âœ… ç®€å•æ˜“ç”¨
- âœ… ä¸€é”®å‘½ä»¤
- âœ… æŠ—å®¡æŸ¥

#### éƒ¨ç½²æ­¥éª¤

**1. å®‰è£… PinMe CLI**
```bash
npm install -g pinme
```

**2. éƒ¨ç½²é¡¹ç›®**
```bash
cd /Users/ts/Desktop/HanZi
yarn build
pinme upload dist
```

**3. éƒ¨ç½²æˆåŠŸ**
PinMe å°†è¿”å›ä¸€ä¸ª IPFS å“ˆå¸Œå’Œç½‘å…³é“¾æ¥ï¼Œå³å¯è®¿é—®ã€‚

---

### æ–¹æ¡ˆäºŒï¼šVercel

**ç‰¹ç‚¹**ï¼š
- âœ… å…è´¹
- âœ… å…¨çƒ CDN
- âœ… è‡ªåŠ¨ HTTPS
- âœ… ä¸€é”®éƒ¨ç½²
- âœ… è‡ªåŠ¨æ„å»º

#### éƒ¨ç½²æ­¥éª¤

**1. å®‰è£… Vercel CLI**
```bash
npm install -g vercel
```

**2. ç™»å½• Vercel**
```bash
vercel login
```

**3. éƒ¨ç½²é¡¹ç›®**
```bash
cd /Users/ts/Desktop/HanZi
vercel
```

**4. æŒ‰æç¤ºæ“ä½œ**
```
? Set up and deploy "~/Desktop/HanZi"? [Y/n] Y
? Which scope do you want to deploy to? [é€‰æ‹©ä½ çš„è´¦å·]
? Link to existing project? [N]
? What's your project's name? hanzi-learning
? In which directory is your code located? ./
? Want to override the settings? [N]
```

**5. éƒ¨ç½²æˆåŠŸ**
```
âœ… Production: https://hanzi-learning-xxx.vercel.app
```

#### è‡ªåŠ¨éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
1. åœ¨ GitHub åˆ›å»ºä»“åº“
2. æ¨é€ä»£ç åˆ° GitHub
3. åœ¨ Vercel ç½‘ç«™å¯¼å…¥é¡¹ç›®
4. æ¯æ¬¡æ¨é€è‡ªåŠ¨éƒ¨ç½²

---

### æ–¹æ¡ˆäºŒï¼šNetlify

**ç‰¹ç‚¹**ï¼š
- âœ… å…è´¹
- âœ… å…¨çƒ CDN
- âœ… è‡ªåŠ¨ HTTPS
- âœ… æ‹–æ‹½éƒ¨ç½²

#### éƒ¨ç½²æ­¥éª¤

**æ–¹æ³• 1ï¼šæ‹–æ‹½éƒ¨ç½²ï¼ˆæœ€ç®€å•ï¼‰**
1. è®¿é—® https://app.netlify.com/drop
2. æ‹–æ‹½ `dist` æ–‡ä»¶å¤¹åˆ°é¡µé¢
3. éƒ¨ç½²å®Œæˆï¼

**æ–¹æ³• 2ï¼šCLI éƒ¨ç½²**
```bash
# å®‰è£… Netlify CLI
npm install -g netlify-cli

# ç™»å½•
netlify login

# éƒ¨ç½²
cd /Users/ts/Desktop/HanZi
netlify deploy --prod
```

**æ–¹æ³• 3ï¼šGitHub è‡ªåŠ¨éƒ¨ç½²**
1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Netlify å¯¼å…¥é¡¹ç›®
3. é…ç½®æ„å»ºå‘½ä»¤ï¼š`yarn build`
4. é…ç½®å‘å¸ƒç›®å½•ï¼š`dist`
5. è‡ªåŠ¨éƒ¨ç½²

---

### æ–¹æ¡ˆä¸‰ï¼šGitHub Pages

**ç‰¹ç‚¹**ï¼š
- âœ… å…è´¹
- âœ… GitHub é›†æˆ
- âœ… ç®€å•å¯é 

#### éƒ¨ç½²æ­¥éª¤

**1. å®‰è£… gh-pages**
```bash
cd /Users/ts/Desktop/HanZi
yarn add -D gh-pages
```

**2. ä¿®æ”¹ package.json**
æ·»åŠ éƒ¨ç½²è„šæœ¬ï¼š
```json
{
  "scripts": {
    "deploy": "yarn build && gh-pages -d dist"
  },
  "homepage": "https://[ä½ çš„ç”¨æˆ·å].github.io/hanzi-learning"
}
```

**3. éƒ¨ç½²**
```bash
yarn deploy
```

**4. é…ç½® GitHub Pages**
- è¿›å…¥ä»“åº“ Settings â†’ Pages
- Source é€‰æ‹© `gh-pages` åˆ†æ”¯
- ä¿å­˜

---

### æ–¹æ¡ˆå››ï¼šè‡ªå·±çš„æœåŠ¡å™¨

#### ä½¿ç”¨ Nginx

**1. ä¸Šä¼ æ–‡ä»¶**
```bash
scp -r dist/* user@your-server:/var/www/hanzi
```

**2. é…ç½® Nginx**
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/hanzi;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # Gzip å‹ç¼©
    gzip on;
    gzip_types text/css application/javascript application/json;
}
```

**3. é‡å¯ Nginx**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

#### ä½¿ç”¨ Apache

**1. ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨**
```bash
scp -r dist/* user@your-server:/var/www/html/hanzi
```

**2. åˆ›å»º .htaccess**
```apache
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

---

## ğŸŒ åŸŸåé…ç½®ï¼ˆå¯é€‰ï¼‰

### Vercel è‡ªå®šä¹‰åŸŸå
1. è¿›å…¥é¡¹ç›® Settings â†’ Domains
2. æ·»åŠ ä½ çš„åŸŸå
3. é…ç½® DNSï¼š
   ```
   CNAME  www  cname.vercel-dns.com
   A      @    76.76.21.21
   ```

### Netlify è‡ªå®šä¹‰åŸŸå
1. è¿›å…¥ Site settings â†’ Domain management
2. æ·»åŠ è‡ªå®šä¹‰åŸŸå
3. é…ç½® DNSï¼š
   ```
   CNAME  www  [your-site].netlify.app
   ```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å·²å®Œæˆçš„ä¼˜åŒ–
- âœ… Vite æ„å»ºä¼˜åŒ–
- âœ… ä»£ç å‹ç¼©
- âœ… CSS æå–å’Œå‹ç¼©
- âœ… èµ„æº Tree-shaking

### å¯é€‰ä¼˜åŒ–
- [ ] å¯ç”¨ CDN åŠ é€Ÿ
- [ ] é…ç½®ç¼“å­˜ç­–ç•¥
- [ ] æ·»åŠ  Service Workerï¼ˆPWAï¼‰

---

## ğŸ”’ ç¯å¢ƒå˜é‡é…ç½®

å¦‚æœéœ€è¦ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š

**1. åˆ›å»º .env.production**
```bash
VITE_API_URL=https://api.example.com
```

**2. åœ¨ä»£ç ä¸­ä½¿ç”¨**
```typescript
const apiUrl = import.meta.env.VITE_API_URL
```

**3. éƒ¨ç½²å¹³å°é…ç½®**
- Vercel: Project Settings â†’ Environment Variables
- Netlify: Site settings â†’ Build & deploy â†’ Environment

---

## ğŸ“± PWA é…ç½®ï¼ˆå¯é€‰ï¼‰

å°†åº”ç”¨å˜æˆå¯å®‰è£…çš„ PWAï¼š

**1. å®‰è£…æ’ä»¶**
```bash
yarn add -D vite-plugin-pwa
```

**2. é…ç½® vite.config.ts**
```typescript
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    react(),
    VitePWA({
      registerType: 'autoUpdate',
      manifest: {
        name: 'æ±‰å­—å­¦ä¹ åŠ©æ‰‹',
        short_name: 'æ±‰å­—å­¦ä¹ ',
        description: 'å°å­¦ç”Ÿæ±‰å­—å­¦ä¹ å·¥å…·',
        theme_color: '#FCD34D',
        icons: [
          {
            src: 'icon-192.png',
            sizes: '192x192',
            type: 'image/png'
          }
        ]
      }
    })
  ]
})
```

---

## ğŸ§ª æœ¬åœ°é¢„è§ˆ

åœ¨éƒ¨ç½²å‰æµ‹è¯•ç”Ÿäº§æ„å»ºï¼š

```bash
# é¢„è§ˆæ„å»ºç»“æœ
yarn preview

# æˆ–ä½¿ç”¨ serve
npx serve dist
```

è®¿é—® http://localhost:4173 æŸ¥çœ‹æ•ˆæœã€‚

---

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰
- [x] TypeScript ç¼–è¯‘æ— é”™è¯¯
- [x] ç”Ÿäº§æ„å»ºæˆåŠŸ
- [x] æœ¬åœ°é¢„è§ˆæ­£å¸¸
- [ ] æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸
- [ ] æ€§èƒ½æµ‹è¯•åˆæ ¼

### éƒ¨ç½²å
- [ ] ç½‘ç«™å¯è®¿é—®
- [ ] HTTPS æ­£å¸¸
- [ ] è·¯ç”±è·³è½¬æ­£å¸¸
- [ ] æ‰‹å†™åŠŸèƒ½æ­£å¸¸
- [ ] ç¬”é¡ºåŠ¨ç”»æ­£å¸¸
- [ ] iPad é€‚é…æ­£å¸¸

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. è·¯ç”± 404 é”™è¯¯
**é—®é¢˜**ï¼šåˆ·æ–°é¡µé¢å‡ºç° 404
**è§£å†³**ï¼šé…ç½®é‡å®šå‘è§„åˆ™ï¼ˆå·²åŒ…å«åœ¨ vercel.json å’Œ netlify.tomlï¼‰

### 2. èµ„æºåŠ è½½å¤±è´¥
**é—®é¢˜**ï¼šCSS/JS åŠ è½½ 404
**è§£å†³**ï¼šæ£€æŸ¥ base è·¯å¾„é…ç½®

### 3. å­—ä½“åŠ è½½é—®é¢˜
**é—®é¢˜**ï¼šæ¥·ä½“ä¸æ˜¾ç¤º
**è§£å†³**ï¼šæ·»åŠ å­—ä½“å›é€€ï¼š
```css
font-family: 'STKaiti', 'KaiTi', 'SimKai', serif;
```

### 4. Canvas ä¸å·¥ä½œ
**é—®é¢˜**ï¼šæ‰‹å†™åŠŸèƒ½å¤±æ•ˆ
**è§£å†³**ï¼šæ£€æŸ¥ HTTPSï¼ŒæŸäº›åŠŸèƒ½éœ€è¦å®‰å…¨ä¸Šä¸‹æ–‡

---

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æï¼ˆå¯é€‰ï¼‰

### Google Analytics
```html
<!-- index.html -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
```

### Vercel Analytics
è‡ªåŠ¨é›†æˆï¼Œæ— éœ€é…ç½®

---

## ğŸ¯ æ¨èéƒ¨ç½²æ–¹æ¡ˆ

**æœ€æ–°æ¨è**ï¼šPinMeï¼ˆIPFSå»ä¸­å¿ƒåŒ–éƒ¨ç½²ï¼‰
**æœ€ç®€å•**ï¼šNetlify æ‹–æ‹½éƒ¨ç½²  
**æœ€ä¸“ä¸š**ï¼šVercel + GitHub è‡ªåŠ¨éƒ¨ç½²  
**æœ€çµæ´»**ï¼šè‡ªå·±çš„æœåŠ¡å™¨  

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

### PinMeï¼ˆæ¨èï¼‰
```bash
# ä¸€é”®éƒ¨ç½²
pinme upload dist
```

### Vercel
```bash
# ä¸€é”®éƒ¨ç½²
vercel --prod
```

### Netlify
```bash
# ä¸€é”®éƒ¨ç½²
netlify deploy --prod --dir=dist
```

---

## ğŸ“ è·å–å¸®åŠ©

- **Vercel æ–‡æ¡£**ï¼šhttps://vercel.com/docs
- **Netlify æ–‡æ¡£**ï¼šhttps://docs.netlify.com
- **Vite æ–‡æ¡£**ï¼šhttps://vitejs.dev

---

## âœ… éƒ¨ç½²å®Œæˆå

1. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. åˆ†äº«é“¾æ¥ç»™ç”¨æˆ·
3. æ”¶é›†åé¦ˆ
4. æŒç»­ä¼˜åŒ–

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰

**æ„å»ºæ–‡ä»¶ä½ç½®**ï¼š`/Users/ts/Desktop/HanZi/dist`  
**æ¨èéƒ¨ç½²å¹³å°**ï¼šPinMe, Vercel æˆ– Netlify  
**é¢„è®¡éƒ¨ç½²æ—¶é—´**ï¼š5-10 åˆ†é’Ÿ

